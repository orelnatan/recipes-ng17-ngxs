
<div class="view-recipe-main">
  @if (recipe$ | async; as recipe) {
    <img [ngSrc]="recipe?.image! || 'non-empty'" fill priority>

    <div class="recipe-spec">
      <div class="recipe-header">
        <recipe-header
          [name]="recipe.name"
          [autor]="recipe.author"
          [createdAt]="recipe.createdAt"
          [style]="recipe.style"
          [time]="recipe.time"
          [favorite]="recipe.favorite"
          (update)="update()"
          (like)="like(recipe)">
        </recipe-header>
      </div>
      
      <inputs-container [gap]="45">
        <input-field>
          <b>Notes:</b>
          <p>{{ recipe.notes }}</p>
        </input-field>
      </inputs-container>

      <context-frame 
        [gap]="35"
        [title]="'Ingredients'" 
        [hideAddOption]="true"
      >
        <div class="ingredients-container">
          <ng-container *ngFor="let ingredient of recipe.ingredients">
            <inputs-container>
              <input-field>
                <p>{{ ingredient }}</p>
              </input-field>
            </inputs-container>
          </ng-container>
        </div>
      </context-frame>

      <context-frame 
        [gap]="35"
        [title]="'Instructions'" 
        [hideAddOption]="true"
      >
        <div class="instructions-container">
          <ng-container *ngFor="let instruction of recipe.instructions; let i=index">
            <inputs-container [gap]="15">
              <input-field>
                <b>Step {{ i + 1 }}:</b>
                <p>{{ instruction }}</p>
              </input-field>
            </inputs-container>
          </ng-container>
        </div>
      </context-frame>
    </div>
  } 

  @if (error$ | async) { 
    Oppsss, we ran into an error :(
  }
</div>